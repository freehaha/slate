
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="API">API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#definitions" class="toc-h2 toc-link" data-title="Definitions">Definitions</a>
                  </li>
                  <li>
                    <a href="#add-an-api" class="toc-h2 toc-link" data-title="Add an API">Add an API</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-an-api" class="toc-h2 toc-link" data-title="Retrieve information of an API">Retrieve information of an API</a>
                  </li>
                  <li>
                    <a href="#add-a-method-to-an-api" class="toc-h2 toc-link" data-title="Add a Method to an API">Add a Method to an API</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-a-method" class="toc-h2 toc-link" data-title="Retrieve information of a Method">Retrieve information of a Method</a>
                  </li>
                  <li>
                    <a href="#add-a-parameter-to-a-method" class="toc-h2 toc-link" data-title="Add a Parameter to a Method">Add a Parameter to a Method</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-a-parameter" class="toc-h2 toc-link" data-title="Retrieve information of a Parameter">Retrieve information of a Parameter</a>
                  </li>
                  <li>
                    <a href="#add-an-artifact-to-an-api" class="toc-h2 toc-link" data-title="Add an Artifact to an API">Add an Artifact to an API</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-an-artifact" class="toc-h2 toc-link" data-title="Retrieve information of an Artifact">Retrieve information of an Artifact</a>
                  </li>
                  <li>
                    <a href="#list-artifacts-of-an-api" class="toc-h2 toc-link" data-title="List artifacts of an API">List artifacts of an API</a>
                  </li>
                  <li>
                    <a href="#add-an-artifact-to-a-method" class="toc-h2 toc-link" data-title="Add an Artifact to a Method">Add an Artifact to a Method</a>
                  </li>
                  <li>
                    <a href="#list-artifacts-of-a-method" class="toc-h2 toc-link" data-title="List artifacts of a Method">List artifacts of a Method</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#entity" class="toc-h1 toc-link" data-title="Entity">Entity</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#entity-search" class="toc-h2 toc-link" data-title="Entity search">Entity search</a>
                  </li>
                  <li>
                    <a href="#retrieving-arbitrary-entity" class="toc-h2 toc-link" data-title="Retrieving arbitrary entity">Retrieving arbitrary entity</a>
                  </li>
                  <li>
                    <a href="#display-entity" class="toc-h2 toc-link" data-title="Display Entity">Display Entity</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#data" class="toc-h1 toc-link" data-title="Data">Data</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#definitions-2" class="toc-h2 toc-link" data-title="Definitions">Definitions</a>
                  </li>
                  <li>
                    <a href="#create-datasourceschema" class="toc-h2 toc-link" data-title="Create DataSourceSchema">Create DataSourceSchema</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-a-datasourceschema" class="toc-h2 toc-link" data-title="Retrieve information of a DataSourceSchema">Retrieve information of a DataSourceSchema</a>
                  </li>
                  <li>
                    <a href="#add-an-artifact-to-a-datasourceschema" class="toc-h2 toc-link" data-title="Add an Artifact to a DataSourceSchema">Add an Artifact to a DataSourceSchema</a>
                  </li>
                  <li>
                    <a href="#list-artifacts-of-a-datasourceschema" class="toc-h2 toc-link" data-title="List artifacts of a DataSourceSchema">List artifacts of a DataSourceSchema</a>
                  </li>
                  <li>
                    <a href="#add-connector" class="toc-h2 toc-link" data-title="Add Connector">Add Connector</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-a-connector" class="toc-h2 toc-link" data-title="Retrieve information of a Connector">Retrieve information of a Connector</a>
                  </li>
                  <li>
                    <a href="#add-an-artifact-to-a-connector" class="toc-h2 toc-link" data-title="Add an Artifact to a Connector">Add an Artifact to a Connector</a>
                  </li>
                  <li>
                    <a href="#list-artifacts-of-a-connector" class="toc-h2 toc-link" data-title="List artifacts of a Connector">List artifacts of a Connector</a>
                  </li>
                  <li>
                    <a href="#add-datasource" class="toc-h2 toc-link" data-title="Add DataSource">Add DataSource</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-a-datasource" class="toc-h2 toc-link" data-title="Retrieve information of a DataSource">Retrieve information of a DataSource</a>
                  </li>
                  <li>
                    <a href="#create-query" class="toc-h2 toc-link" data-title="Create Query">Create Query</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-a-query" class="toc-h2 toc-link" data-title="Retrieve information of a Query">Retrieve information of a Query</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#recipe" class="toc-h1 toc-link" data-title="Recipe">Recipe</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#definitions-3" class="toc-h2 toc-link" data-title="Definitions">Definitions</a>
                  </li>
                  <li>
                    <a href="#create-recipe" class="toc-h2 toc-link" data-title="Create Recipe">Create Recipe</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-a-recipe" class="toc-h2 toc-link" data-title="Retrieve information of a Recipe">Retrieve information of a Recipe</a>
                  </li>
                  <li>
                    <a href="#run-recipe" class="toc-h2 toc-link" data-title="Run Recipe">Run Recipe</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#widget" class="toc-h1 toc-link" data-title="Widget">Widget</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#definitions-4" class="toc-h2 toc-link" data-title="Definitions">Definitions</a>
                  </li>
                  <li>
                    <a href="#add-widget" class="toc-h2 toc-link" data-title="Add Widget">Add Widget</a>
                  </li>
                  <li>
                    <a href="#retrieve-information-of-a-widget" class="toc-h2 toc-link" data-title="Retrieve information of a Widget">Retrieve information of a Widget</a>
                  </li>
                  <li>
                    <a href="#render-widget" class="toc-h2 toc-link" data-title="Render Widget">Render Widget</a>
                  </li>
                  <li>
                    <a href="#add-an-artifact-to-a-widget" class="toc-h2 toc-link" data-title="Add an Artifact to a Widget">Add an Artifact to a Widget</a>
                  </li>
                  <li>
                    <a href="#list-artifacts-of-a-widget" class="toc-h2 toc-link" data-title="List artifacts of a Widget">List artifacts of a Widget</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>APIBase is a database for APIs. Similar to Wikipedia, APIBase stores knowledge for
to understanding topics related to APIs including indiviual endpoints and their parameters.
To facilitate understand of Data and data-analysis APIs, APIBase also allow
users to define data schemas and provide related methods to help the
understanding the nature of different datasets. Finally, with Recipes users can
make composition of APIs and share the knowledge of how different APIs
can be used together and how to apply them onto different sources of data.</p>

<p>APIBase itself is provided as a service accessed by the APIBase API and is sectioned as below:</p>

<ul>
<li>API Manipulation: methods to get/add/list entities related to APIs</li>
<li>Entity: general operations on entities in APIBase</li>
<li>Data: methods to define/query data from different sources</li>
<li>Recipe: methods to create/run recipes</li>
<li>Widget: methods to add/render widgets</li>
</ul>
<h1 id='api'>API</h1><h2 id='definitions'>Definitions</h2><h3 id='api-2'>API</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Github"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REST"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Github Inc."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github apis"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Application Program Interface(API), is a set of routines and protocols for
building software applications. The API is the building block for software
applications and specifies how software components should interact. An API
object in APIBase has the following structure:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*name</td>
<td>string</td>
<td>&quot;Github&quot;</td>
<td>Name of the API</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>&quot;REST&quot;</td>
<td>Type of the API, always <code>REST</code></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>&quot;1.0&quot;</td>
<td>Version string</td>
</tr>
<tr>
<td>*provider</td>
<td>string</td>
<td>&quot;Github Inc.&quot;</td>
<td>A short sentence representing the provider</td>
</tr>
<tr>
<td>tags</td>
<td>[&quot;strings&quot;]</td>
<td>[&quot;development&quot;, &quot;git&quot;]</td>
<td>List of tags that identify the API</td>
</tr>
<tr>
<td>*description</td>
<td>string</td>
<td>&quot;github APIs&quot;</td>
<td>Description about the API</td>
</tr>
<tr>
<td>*baseUrl</td>
<td>string</td>
<td>&quot;https://api.github.com&quot;</td>
<td>Base URL of the API</td>
</tr>
</tbody></table>

<aside class="notice">
Properties marked with * are required
</aside>
<h3 id='method'>Method</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GetGist”,
  "</span><span class="err">method</span><span class="s2">": "</span><span class="err">POST</span><span class="s2">",
  "</span><span class="err">path</span><span class="s2">": "</span><span class="err">/gist/</span><span class="p">{</span><span class="err">gistId</span><span class="p">}</span><span class="s2">",
  "</span><span class="err">description</span><span class="s2">": "</span><span class="err">get</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">gist</span><span class="s2">"
}
</span></code></pre>
<p>A Method describes an endpoint of an API. For example, the <a href="https://developer.github.com/v3/gists/#get-a-single-gist">Get a single
gist</a> of Github API
is a Method in the Github API. Methods contains the following properties:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*name</td>
<td>string</td>
<td>&quot;GetGist&quot;</td>
<td>Name of the Method</td>
</tr>
<tr>
<td>*method</td>
<td><code>POST</code>, <code>GET</code>, <code>PUT</code> or <code>DELETE</code></td>
<td>&quot;GET&quot;</td>
<td>HTTP method used</td>
</tr>
<tr>
<td>*path</td>
<td>string</td>
<td>&quot;gist/{gistId}&quot;</td>
<td>Path for the endpoint, relative to the <code>baseURL</code> of the API, use brackets {} if there for placeholder segments</td>
</tr>
<tr>
<td>*description</td>
<td>string</td>
<td>&quot;get a gist&quot;</td>
<td>Description for the Method</td>
</tr>
</tbody></table>
<h3 id='parameter'>Parameter</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gistId"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"path"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Parameters describes what are the inputs required/available for the Method. A Method can have multiple Parameters
and in different <code>locations</code>. <code>locked</code> property indicates whether the parameter is intended to be changed by user or not.
If it is set, APIBase will always use the <code>default</code> value for that parameter regardless of what users input.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*name</td>
<td>string</td>
<td>&quot;gistId&quot;</td>
<td>Name of the parameter</td>
</tr>
<tr>
<td>*location</td>
<td><code>path</code>, <code>query</code>, <code>body</code>, <code>header</code> or <code>form</code></td>
<td>&quot;path&quot;</td>
<td>Location where the parameter should be</td>
</tr>
<tr>
<td>*type</td>
<td><code>string</code>, <code>number</code>, <code>integer</code>, <code>boolean</code>, <code>array</code> or <code>file</code></td>
<td>&quot;string&quot;</td>
<td>Type of the parameter</td>
</tr>
<tr>
<td>*required</td>
<td>boolean</td>
<td>true</td>
<td>Whether the parameter is required or not</td>
</tr>
<tr>
<td>default</td>
<td>same as <code>type</code></td>
<td>&quot;default gist ID&quot;</td>
<td>Default value if the parameter is missing or is <code>locked</code>. When omitted, defaults to <code>null</code></td>
</tr>
<tr>
<td>locked</td>
<td>boolean</td>
<td>false</td>
<td>Indicate whether the parameter is <code>locked</code> or not. When omitted, defaults to <code>false</code></td>
</tr>
</tbody></table>
<h4 id='location'>Location</h4>
<p>The <code>location</code> property indicates how the Parameter should be sent when invoking the endpoint.</p>

<table><thead>
<tr>
<th>Location</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>path</td>
<td>http://host/foo/{parameter}/bar</td>
</tr>
<tr>
<td>query</td>
<td>http://host/foo?{parameter}=value</td>
</tr>
<tr>
<td>header</td>
<td>In HTTP request header. For example, Agent or Content-Type. A list of headers can be found <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields">here</a></td>
</tr>
<tr>
<td>body</td>
<td>In HTTP body, serialized as JSON</td>
</tr>
<tr>
<td>form</td>
<td>In HTTP body, serialized as standard x-www-form-urlencoded format</td>
</tr>
</tbody></table>
<h3 id='artifact'>Artifact</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"artifactType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YoutubeVideo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"video tutorial of using Github"</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Github Tutorial For Beginners - Github Basics for Mac or Windows &amp; Source Control Basics"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"link"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://youtu.be/0fKg7e37bQE"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A Artifact encapsulates information related to APIs, Methods and other entities to
explain and enrich the entities.  Artifacts could be of various types. For
example, there are <code>YoutubeVideo</code> artifacts that represent videos hosted in
Youtube and <code>InvokeExample</code> artifacts that show example parameters for invoking a
Method. Artifacts can be added to various entities to provide additional
information about the entities.</p>

<p>A Artifact has the following properties:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*description</td>
<td>string</td>
<td>Description of the artifact</td>
</tr>
<tr>
<td>*data</td>
<td>any</td>
<td>The actual data of the artifact</td>
</tr>
<tr>
<td>*artifactType</td>
<td>ArtifactType</td>
<td>The type of Artifact which schema <code>data</code> will be validated against. See a list of available <code>artifactType</code> and their schema <a href="#artifacttypes">here</a></td>
</tr>
</tbody></table>
<h3 id='artifact-types'>Artifact Types</h3>
<p>Below is a list of artifact types available when creating an Artifact:</p>
<h3 id='youtubevideo'>YoutubeVideo</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Github Tutorial For Beginners - Github Basics for Mac or Windows &amp; Source Control Basics"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"link"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://youtu.be/0fKg7e37bQE"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>References to Youtube videos.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*title</td>
<td>string</td>
<td>Title of the video</td>
</tr>
<tr>
<td>*link</td>
<td>string</td>
<td>URL to the Youtube video</td>
</tr>
</tbody></table>
<h3 id='invokeexample'>InvokeExample</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Get user profile from Github"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07acb558-7626-4bb4-946a-2ddd77c4dbb6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"freehaha"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Example for invoking a Method.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*title</td>
<td>string</td>
<td>Title of the invoke example</td>
</tr>
<tr>
<td>*method</td>
<td>string</td>
<td>ID of the Method</td>
</tr>
<tr>
<td>*parameters</td>
<td>object</td>
<td>Example parameters</td>
</tr>
</tbody></table>
<h3 id='url'>URL</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Using YQL and Open Data Tables"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://developer.yahoo.com/yql/guide/yql-users-guide.html"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>External URL links.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*title</td>
<td>string</td>
<td>Title of the URL</td>
</tr>
<tr>
<td>*url</td>
<td>string</td>
<td>URL of the webpage</td>
</tr>
</tbody></table>
<h2 id='add-an-api'>Add an API</h2><pre class="highlight shell tab-shell"><code><span class="c"># Make sure the `Content-Type` is set correctly</span>
curl -XPOST http://johnsd.cse.unsw.edu.au:3000/apis
    -H <span class="s1">'Content-Type: application/json'</span>
    -d <span class="s1">'{
      "name": "Github",
      "type": "REST",
      "version": "1.0",
      "provider": "Github Inc.",
      "description": "github apis",
      "baseUrl": "https://api.github.com"
    }'</span>
</code></pre><pre class="highlight python tab-python"><code></code></pre><pre class="highlight javascript tab-javascript"><code></code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds an API entity to APIBase.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/apis</code></p>
<h3 id='parameters'>Parameters</h3>
<p>An <a href="#api">API</a> Object.</p>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created API object</td>
</tr>
</tbody></table>
<h3 id='errors'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>User input does not match API schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>409</td>
<td>API with the specified name already exists</td>
<td>entity of that name already exists</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-an-api'>Retrieve information of an API</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/apis/ee1db224-3331-4b8a-bc11-8839b4e5d6b4
</code></pre>
<blockquote>
<p>Successful request returns an API object:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ee1db224-3331-4b8a-bc11-8839b4e5d6b4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REST"</span><span class="w">
    </span><span class="s2">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"07acb558-7626-4bb4-946a-2ddd77c4dbb6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"9446bdf1-da5a-4096-98bc-47cfa8c15157"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"df5f4ae2-e80c-48c1-a641-7d6b2d02d5cb"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Github"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://github.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"artifacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"6d5dd456-3b04-4590-b51a-c5094c6a5cd7"</span><span class="w">
    </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an API.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/apis/{id}</code></p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the API</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<p>An <a href="#api">API</a> Object with related <code>methods</code> and <code>artifacts</code>.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>methods</td>
<td>ID of Methods of the API</td>
</tr>
<tr>
<td>artifacts</td>
<td>ID of Artifacts of the API</td>
</tr>
</tbody></table>
<h3 id='errors-2'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>API of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='add-a-method-to-an-api'>Add a Method to an API</h2><pre class="highlight shell tab-shell"><code><span class="c">#</span>
curl -XPOST -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
http://johnsd.cse.unsw.edu.au:3000/apis/ee1db224-3331-4b8a-bc11-8839b4e5d6b4/methods -d <span class="s1">'{
  "name": "GetGist”,
  "method": "POST",
  "path": "/gist/{gistId}",
  "description": "get a gist"
}'</span>
</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds a Method entity to an API.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/apis/{id}/methods</code></p>
<h3 id='parameters-3'>Parameters</h3>
<p>A <a href="#method">Method</a> object.</p>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Method object</td>
</tr>
</tbody></table>
<h3 id='errors-3'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>400</td>
<td>User input does not match Method schema</td>
<td>schema mismatch</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-a-method'>Retrieve information of a Method</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/methods/99d64f8e-eace-417d-8cea-511621aaf57c
</code></pre>
<blockquote>
<p>Successful request returns an <a href="#method">Method object</a>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99d64f8e-eace-417d-8cea-511621aaf57c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Get a gist"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GetGist"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"8ca7b0c7-bda0-4667-9f74-f67897cef67f"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/gists/{gistId}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"artifacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"55394b28-b162-4355-b65b-6574b1956c77"</span><span class="w">
    </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>This endpoint retrieves a Method.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/methods/{id}</code></p>
<h3 id='parameters-4'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Method</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<p>An <a href="#method">Method</a> Object with related <code>parameters</code> and <code>artifacts</code>.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>parameters</td>
<td>ID of Parameters of the API</td>
</tr>
<tr>
<td>artifacts</td>
<td>ID of Artifacts of the API</td>
</tr>
</tbody></table>
<h3 id='errors-4'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Method of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='add-a-parameter-to-a-method'>Add a Parameter to a Method</h2><pre class="highlight shell tab-shell"><code>curl -XPOST -H <span class="s1">'Content-Type: application/json'</span>
http://johnsd.cse.unsw.edu.au:3000/methods/99d64f8e-eace-417d-8cea-511621aaf57c/parameters -d <span class="s1">'{
  "name": "gistId",
  "location": "path",
  "type": "string",
  "required": true
}'</span>

</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Parameters describe the parameters of a Method, their types, whether they are optional and the place
where the parameters should be placed (in url as path/query, in the header, or in the request body).
Locked property indicates whether the parameter is intended to be changed by users or not. If it is
set, APIBase will always use the default value for the parameter regardless of what users input.</p>

<p>This endpoint adds a Parameter entity to a Method.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/methods/{id}/parameters</code></p>
<h3 id='parameters-5'>Parameters</h3>
<p>A <a href="#parameter">Parameter</a> Object.</p>
<h3 id='response-5'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Parameter object</td>
</tr>
</tbody></table>
<h3 id='errors-5'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>400</td>
<td>User input does not match Parameter schema</td>
<td>schema mismatch</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-a-parameter'>Retrieve information of a Parameter</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/parameters/d74c24e6-9451-41f6-93be-afdfc20a7f4c
</code></pre>
<blockquote>
<p>Successful request returns an <a href="#parameter">Parameter object</a>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d74c24e6-9451-41f6-93be-afdfc20a7f4c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"english"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"form"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"language"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an Parameter.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/parameters/{id}</code></p>
<h3 id='parameters-6'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Parameter</td>
</tr>
</tbody></table>
<h3 id='response-6'>Response</h3>
<p>A <a href="#parameter">Parameter</a> Object.</p>
<h3 id='errors-6'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Parameter of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='add-an-artifact-to-an-api'>Add an Artifact to an API</h2><pre class="highlight shell tab-shell"><code>curl -XPOST -H <span class="s1">'Content-Type: application/json'</span>
http://johnsd.cse.unsw.edu.au:3000/apis/ee1db224-3331-4b8a-bc11-8839b4e5d6b4/artifacts -d <span class="s1">'{
    "artifactType": "YoutubeVideo",
    "description": "Github Universe 2017 event video",
    "data": {
        "title": "GitHub Universe 2017",
        "link": "https://www.youtube.com/watch?v=53qGVTSUoFA"
    }
}'</span>

</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds an Artifact to an API.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/apis/{id}/artifacts</code></p>
<h3 id='parameters-7'>Parameters</h3>
<p>An <a href="#artifact">Artifact</a> Object.</p>
<h3 id='response-7'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Artifact object</td>
</tr>
</tbody></table>
<h3 id='errors-7'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>400</td>
<td>User input does not match Artifact schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>400</td>
<td><code>data</code> does not match ArtifactType schema</td>
<td>artifact schema mismatch</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-an-artifact'>Retrieve information of an Artifact</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/artifacts/6d5dd456-3b04-4590-b51a-c5094c6a5cd7
</code></pre>
<blockquote>
<p>Successful request returns an Artifact object:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_rtName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"YoutubeVideo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6d5dd456-3b04-4590-b51a-c5094c6a5cd7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.youtube.com/embed/VUaBfYCmJls"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"What Is Github"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"artifacttype"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"1cd0a97d-195c-43ca-815f-4740ce1e7e97"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an Artifact and can be used to retrieve any artifacts regardless of
the entity the artifact is added to.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/artifacts/{id}</code></p>
<h3 id='parameters-8'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Artifact</td>
</tr>
</tbody></table>
<h3 id='response-8'>Response</h3>
<p>An <a href="#artifact">Artifact</a> Object with related <code>artifacttype</code>.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>artifacttype</td>
<td>ID of the artifact type</td>
</tr>
<tr>
<td>_rtName</td>
<td>Name fo the artifact type</td>
</tr>
</tbody></table>
<h3 id='errors-8'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Artifact of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='list-artifacts-of-an-api'>List artifacts of an API</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/apis/ee1db224-3331-4b8a-bc11-8839b4e5d6b4/artifacts
</code></pre>
<blockquote>
<p>Successful request returns a list of ID of artifacts:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="s2">"6d5dd456-3b04-4590-b51a-c5094c6a5cd7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"3d53d456-3b04-3ab0-b51s-d3012a133d56"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an array of Artifacts that are associated with the API.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/apis/{id}/artifacts</code></p>
<h3 id='parameters-9'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the API</td>
</tr>
</tbody></table>
<h3 id='response-9'>Response</h3>
<p>An array of IDs of <a href="#artifact">Artifact objects</a> related to the API.</p>
<h3 id='errors-9'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>API of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='add-an-artifact-to-a-method'>Add an Artifact to a Method</h2><pre class="highlight shell tab-shell"><code>curl -XPOST -H <span class="s1">'Content-Type: application/json'</span>
http://johnsd.cse.unsw.edu.au:3000/methods/9446bdf1-da5a-4096-98bc-47cfa8c15157/artifacts -d <span class="s1">'{
    "artifactType": "InvokeExample",
    "description": "an example to retrieve gist from the user '</span>freehaha<span class="s1">'"
    "data": {
        "method": "9446bdf1-da5a-4096-98bc-47cfa8c15157",
        "parameters" : {
            "user": "freehaha"
        }
    }
}'</span>

</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds an Artifact to a Method.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/methods/{id}/artifacts</code></p>
<h3 id='parameters-10'>Parameters</h3>
<p>An <a href="#artifact">Artifact</a> Object.</p>
<h3 id='response-10'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Artifact object</td>
</tr>
</tbody></table>
<h3 id='errors-10'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>400</td>
<td>User input does not match Artifact schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>400</td>
<td><code>data</code> does not match ArtifactType schema</td>
<td>artifact schema mismatch</td>
</tr>
</tbody></table>
<h2 id='list-artifacts-of-a-method'>List artifacts of a Method</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/methods/9446bdf1-da5a-4096-98bc-47cfa8c15157/artifacts
</code></pre>
<blockquote>
<p>Successful request returns a list of ID of artifacts:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="s2">"874720ca-c4ea-4704-a776-f23547848eed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"d2cbba9e-7783-4100-a9cf-ee1e0e243d28"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dc56b9b6-f2b1-49b9-ad16-360e993b4cb5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"f108c273-2687-4d6a-9ad1-996277932d27"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"c97d5d3c-f417-4869-ab2a-5f1f18893662"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an array of Artifacts that are associated with the Method.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/methods/{id}/artifacts</code></p>
<h3 id='parameters-11'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Method</td>
</tr>
</tbody></table>
<h3 id='response-11'>Response</h3>
<p>An array of IDs of <a href="#artifact">Artifact objects</a> related to the Method.</p>
<h3 id='errors-11'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Method of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h1 id='entity'>Entity</h1><h2 id='entity-search'>Entity search</h2><pre class="highlight shell tab-shell"><code><span class="c"># search for API with the 'Github' keyword</span>
curl -XGET <span class="s1">'http://johnsd.cse.unsw.edu.au:3000/entities/search?q=Github&amp;type=API'</span>
</code></pre>
<blockquote>
<p>if you want to specify a particular field to search, use <code>field:</code> syntax</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># search for APIs that have 'music' in their description</span>
curl -XGET <span class="s1">'http://johnsd.cse.unsw.edu.au:3000/entities/search?q=description:music&amp;type=API'</span>
</code></pre>
<blockquote>
<p>example result for APIs that have &#39;music&#39; in their description</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.programmableweb.com/api/sonos-music"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6b7f74f9-38f8-4b1e-a8b8-8d7bcb26cc8b"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sonos Music"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sonos Music"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.spotify.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Spotify&amp;nbsp;Web API lets your applications fetch data from the Spotify music catalog and manage user&amp;rsquo;s playlists and saved music.&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&lt;p&gt;&amp;nbsp;&lt;/p&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"170333ff-afa7-4dc8-92de-9b8cebe72a34"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spotify"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Spotify AB"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REST"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4shared is an online storage and file sharing service that was founded in 2005. Users can upload, store and share all types of files, including music, video, photos and documents.</span><span class="se">\n</span><span class="s2">The 4shared API..."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"71ca0c6a-cd3a-4f31-b6a8-97ad95f431c4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4Shared"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4Shared"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REST"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre>
<p>This endpoint performs a keyword search in APIBase. It returns only the first 30 results. To get
more results, use the <code>page</code> query parameter.</p>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/entities/search</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*q</td>
<td>string</td>
<td>&quot;Github&quot;</td>
<td>Query string</td>
</tr>
<tr>
<td>type</td>
<td><code>API</code>, <code>Method</code>, <code>Recipe</code>, <code>DataSourceSchema</code>, <code>DataSource</code></td>
<td>&quot;API&quot;</td>
<td>Type of entity you want to search; leave empty to search for all types</td>
</tr>
<tr>
<td>page</td>
<td>integer</td>
<td>1</td>
<td>Page number, starting from 1</td>
</tr>
</tbody></table>
<h3 id='response-12'>Response</h3>
<p>An array of entities that match the search criteria. Maximum 30 entities.</p>
<h3 id='errors-12'>Errors</h3>
<p>N/A</p>
<h2 id='retrieving-arbitrary-entity'>Retrieving arbitrary entity</h2><pre class="highlight shell tab-shell"><code>curl -XGET <span class="s1">'http://johnsd.cse.unsw.edu.au:3000/entities/ee1db224-3331-4b8a-bc11-8839b4e5d6b4'</span>
</code></pre>
<blockquote>
<p>successful request returns the entity:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REST"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ee1db224-3331-4b8a-bc11-8839b4e5d6b4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"07acb558-7626-4bb4-946a-2ddd77c4dbb6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"9446bdf1-da5a-4096-98bc-47cfa8c15157"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"df5f4ae2-e80c-48c1-a641-7d6b2d02d5cb"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Github"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://github.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"6d5dd456-3b04-4590-b51a-c5094c6a5cd7"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"_relations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"_created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1404866573</span><span class="p">,</span><span class="w">
                </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
                </span><span class="s2">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CategoryFolder"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root node"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55cdee12-c49a-46f6-909c-98f983c79a92"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APIs"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONTAINS"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"direction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"out"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"_created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1432536694</span><span class="p">,</span><span class="w">
                </span><span class="s2">"_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">38932</span><span class="p">,</span><span class="w">
                </span><span class="s2">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Operation"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df5f4ae2-e80c-48c1-a641-7d6b2d02d5cb"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MergePR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/repos/{owner}/{repo}/pulls/{number}/merge"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HAS_METHOD"</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint lets you get an entity regardless of its type. For example can use
this endpoint to retrieve an API, Method or DataSourceSchema...  Related
entities will also be retrieved. To change this behavior, use the <code>brief=true</code> query parameter.</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/entities/{id}</code></p>
<h3 id='parameters-12'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*id</td>
<td>uuid</td>
<td>ID of the entity in question</td>
</tr>
<tr>
<td>brief</td>
<td>bool</td>
<td><code>true</code> to retrieve only the entity in question, otherwise all related entities will be retrieved</td>
</tr>
</tbody></table>
<h3 id='response-13'>Response</h3>
<p>In addition to the properties of the entity, this endpoint also returns an
<code>_relation</code> array if <code>brief=false</code>(default). <code>The _relation</code> array list
entities related to the entity, each containing the following
property:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>The relationship of the two entities</td>
</tr>
<tr>
<td>direction</td>
<td><code>in</code> or <code>out</code> indicating the direction of their relationship</td>
</tr>
<tr>
<td>target</td>
<td>The related entity</td>
</tr>
</tbody></table>
<h3 id='errors-13'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Entity of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='display-entity'>Display Entity</h2><pre class="highlight shell tab-shell"><code>curl -XGET <span class="s1">'http://johnsd.cse.unsw.edu.au:3000/entities/ee1db224-3331-4b8a-bc11-8839b4e5d6b4/display'</span>
</code></pre>
<blockquote>
<p>successful request returns the entity:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ee1db224-3331-4b8a-bc11-8839b4e5d6b4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"07acb558-7626-4bb4-946a-2ddd77c4dbb6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"9446bdf1-da5a-4096-98bc-47cfa8c15157"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"df5f4ae2-e80c-48c1-a641-7d6b2d02d5cb"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Github"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://github.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"6d5dd456-3b04-4590-b51a-c5094c6a5cd7"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REST"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint shows arbitrary entity and interprets/executes it if applicable.
Similar to the <a href="#retrieving-arbitrary-entity">Retrieving arbitrary entity</a> endpoint, this
endpoint can also retrieve an arbitrary entity but if the entity represents an
executable object, for example a <a href="#query">Query</a>, then the entity will be executed/run and
return the result instead.</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/entities/{id}/display</code></p>
<h3 id='parameters-13'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*id</td>
<td>uuid</td>
<td>ID of the entity in question</td>
</tr>
</tbody></table>
<h3 id='errors-14'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Entity of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h1 id='data'>Data</h1><h2 id='definitions-2'>Definitions</h2><h3 id='data-source-schema'>Data Source Schema</h3>
<blockquote>
<p>An example Data Source Schema</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11185e1d-c1bd-4d3c-ac50-04a222b02452"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestCollection"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"collection of object"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Data Source Schema is a schema describing data coming from a source so that we can understand the structure of the data.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*name</td>
<td>string</td>
<td>Name of the Data Source Schema</td>
</tr>
<tr>
<td>*description</td>
<td>string</td>
<td>Short description of the Data Source Schema</td>
</tr>
<tr>
<td>*schema</td>
<td>JSON Schema</td>
<td>JSON schema describing the structure of data</td>
</tr>
</tbody></table>
<h3 id='connector'>Connector</h3>
<blockquote>
<p>An example Connector</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03c60eb7-7a09-48a5-8595-cf58d0fc6475"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"_created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445482308</span><span class="p">,</span><span class="w">
    </span><span class="s2">"engine"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/freehaha/socrata-connector.git"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"socrata-connector"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A Connector is a module that allows APIBase to retrieve data from 3rd party services. For example, the socrata-connector
allows APIBase to retrieve data from Socrata given an artifact id, which is then available to perfrom a <a href="#query">Query</a>.</p>

<p>Below lists properties of a Connector:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*name</td>
<td>string</td>
<td>Name of the Conncetor, must match the name in package.json in the repository</td>
</tr>
<tr>
<td>*description</td>
<td>string</td>
<td>Short description of the Connector</td>
</tr>
<tr>
<td>*engine</td>
<td>object</td>
<td>See below</td>
</tr>
</tbody></table>
<h4 id='engine'>Engine</h4>
<p>The <code>engine</code> object describe how APIBase can use the connector. As of now we only support npm packages.</p>
<h5 id='npm'>npm</h5>
<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*method</td>
<td>string</td>
<td>Always <code>npm</code></td>
</tr>
<tr>
<td>*code</td>
<td>string</td>
<td>URL accepted by <a href="https://docs.npmjs.com/cli/install">npm install</a>, listed below</td>
</tr>
</tbody></table>

<p>Accepted <code>code</code> format:</p>

<ul>
<li>&lt;name&gt;</li>
<li>&lt;name&gt;@&lt;tag&gt;</li>
<li>&lt;name&gt;@&lt;version&gt;</li>
<li>&lt;name&gt;@&lt;version range&gt;</li>
<li>&lt;git-host&gt;:&lt;git-user&gt;/&lt;repo-name&gt;</li>
<li>&lt;git repo url&gt;</li>
</ul>

<p>When a <code>&lt;name&gt;</code> is used, the module will be pulled from the npm registry whereas if a git url(<code>&lt;git-host&gt;</code> or <code>&lt;git repo url&gt;</code>) is used it will be used to pull the module.</p>
<h3 id='data-source'>Data Source</h3>
<blockquote>
<p>An example Data Source entity</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"dataProvider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://data.melbourne.vic.gov.au"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"resourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vh2v-4nfs"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"On-street parking bay sensors"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"melborne-street-parking-sensors"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A Data Source is an instance of Connector with specific configuration. For
example, one can create a Data Source using the Socrata Connector and configure
it so that when accessed, the Data Source returns the data inside a specific
artifact of Socrata. Below lists property of a DataSource:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*name</td>
<td>string</td>
<td>Name of the DataSource</td>
</tr>
<tr>
<td>*description</td>
<td>string</td>
<td>Short description of the DataSource</td>
</tr>
<tr>
<td>*source</td>
<td>object</td>
<td>Configuration for the Connector. This is Connector-specific</td>
</tr>
</tbody></table>
<h3 id='query'>Query</h3>
<blockquote>
<p>An example Query entity. Returns the first element of the array.</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"get-first-query"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"id1"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"get the first row"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">".[0]"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Another example, filtering out rows where the first column is less than or equal to 200</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filter 200"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"id1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"id2"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filter out rows where first column &lt;= 200"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">".rows | map(select(.[1] | tonumber &gt; 200))"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A Query entity describe a <a href="https://stedolan.github.io/jq/manual/">jq</a> query
expression to be executed on a DataSource.  When a Query is created, it will
not be immediately executed and thus will not return the result. Instead, the
<a href="#display-entity">Display Entity</a> should be used to execute the Query and view
the result.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*name</td>
<td>string</td>
<td>Name of the Query</td>
</tr>
<tr>
<td>*sources</td>
<td>[ uuid ]</td>
<td>IDs of sources which the expression will be evaluated on. These can be ID of DataSource or Query.</td>
</tr>
<tr>
<td>*description</td>
<td>string</td>
<td>Short description of the Query</td>
</tr>
<tr>
<td>*expression</td>
<td>string</td>
<td>A <a href="https://stedolan.github.io/jq/manual/">jq</a> query expression</td>
</tr>
</tbody></table>
<h2 id='create-datasourceschema'>Create DataSourceSchema</h2><pre class="highlight shell tab-shell"><code><span class="c"># Make sure the `Content-Type` is set correctly</span>
curl -XPOST http://johnsd.cse.unsw.edu.au:3000/datasourceschemas
    -H <span class="s1">'Content-Type: application/json'</span>
    -d <span class="s1">'{
        "schema": {
            "properties": {
                "query": {
                    "type": "string"
                },
                "results": {
                    "type": "array"
                }
            },
            "required": [
                "query"
            ]
        },
        "description": "string",
        "name": "Yooz Rest API Schema",
    }'</span>
</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A DataSourceSchema describes the schema of data coming from a source so that we can understand and explore the structure of the data.</p>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/datasourceschemas</code></p>
<h3 id='parameters-14'>Parameters</h3>
<p>A <a href="#data-source-schema">DataSourceSchema</a> Object.</p>
<h3 id='response-14'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created DataSourceSchema entity</td>
</tr>
</tbody></table>
<h3 id='errors-15'>Errors</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>User input does not match DataSourceSchema schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>409</td>
<td>DataSourceSchema with the specified name already exists</td>
<td>entity of that name already exists</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-a-datasourceschema'>Retrieve information of a DataSourceSchema</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/datasourceschemas/56e3e7af-8268-445f-91ed-63eabb0e5314
</code></pre>
<blockquote>
<p>Successful request returns a <a href="#data-source-schema">DataSourceSchema object</a>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56e3e7af-8268-445f-91ed-63eabb0e5314"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schema"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"query"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yooz Rest API Schema"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"connectors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"b5f922b9-c850-45b7-86c1-0e8bc7371cae"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"artifacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a DataSourceSchema.</p>
<h3 id='http-request-16'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/datasourceschemas/{id}</code></p>
<h3 id='parameters-15'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the DataSourceSchema</td>
</tr>
</tbody></table>
<h3 id='response-15'>Response</h3>
<p>An <a href="#data-source-schema">DataSourceSchema</a> Object with related <code>connectors</code> and <code>artifacts</code>.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>connectors</td>
<td>ID of Connectors available for the DataSourceSchema</td>
</tr>
<tr>
<td>artifacts</td>
<td>ID of Artifacts associated to the DataSourceSchema</td>
</tr>
</tbody></table>
<h3 id='errors-16'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>DataSourceSchema of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='add-an-artifact-to-a-datasourceschema'>Add an Artifact to a DataSourceSchema</h2><pre class="highlight shell tab-shell"><code>curl -XPOST -H <span class="s1">'Content-Type: application/json'</span>
http://johnsd.cse.unsw.edu.au:3000/datasourceschemas/56e3e7af-8268-445f-91ed-63eabb0e5314/artifacts -d <span class="s1">'{
    "artifactType": "YoutubeVideo",
    "description": "Discover Yooz, the cloud-based accounts payable (AP) automation solution that’s intelligent, easy to set up and use, as well as affordable...",
    "data": {
        "title": "Yooz Cloud Accounts Payable Automation Reinvented",
        "link": "https://www.youtube.com/watch?v=COkRCll0qjU"
    }
}'</span>

</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds an Artifact to a DataSourceSchema.</p>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/datasourceschemas/{id}/artifacts</code></p>
<h3 id='parameters-16'>Parameters</h3>
<p>An <a href="#artifact">Artifact</a> Object.</p>
<h3 id='response-16'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Artifact object</td>
</tr>
</tbody></table>
<h3 id='errors-17'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>400</td>
<td>User input does not match Artifact schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>400</td>
<td><code>data</code> does not match ArtifactType schema</td>
<td>artifact schema mismatch</td>
</tr>
</tbody></table>
<h2 id='list-artifacts-of-a-datasourceschema'>List artifacts of a DataSourceSchema</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/datasourceschemas/56e3e7af-8268-445f-91ed-63eabb0e5314/artifacts
</code></pre>
<blockquote>
<p>Successful request returns a list of ID of artifacts:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="s2">"6d5dd456-3b04-4590-b51a-c5094c6a5cd7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"3d53d456-3b04-3ab0-b51s-d3012a133d56"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an array of Artifacts that are associated with the DataSourceSchema.</p>
<h3 id='http-request-18'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/datasourceschemas/{id}/artifacts</code></p>
<h3 id='parameters-17'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the DataSourceSchema</td>
</tr>
</tbody></table>
<h3 id='response-17'>Response</h3>
<p>An array of IDs of <a href="#artifact">Artifact objects</a> related to the DataSourceSchema.</p>
<h3 id='errors-18'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>DataSourceSchema of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='add-connector'>Add Connector</h2><pre class="highlight shell tab-shell"><code><span class="c"># Make sure the `Content-Type` is set correctly</span>
curl -XPOST http://johnsd.cse.unsw.edu.au:3000/datasourceschemas/56e3e7af-8268-445f-91ed-63eabb0e5314/connectors
    -H <span class="s1">'Content-Type: application/json'</span>
    -d <span class="s1">'{
        "engine": {
            "method": "npm",
            "code": "https://github.com/mysilver/yooz-connector"
        },
        "name": "yooz-api-connector"
    }'</span>
</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds a Connector to a DataSourceSchema</p>
<h3 id='http-request-19'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/datasourceschemas/{id}/connectors</code></p>
<h3 id='parameters-18'>Parameters</h3>
<p>A <a href="#connector">Connector</a> Object.</p>
<h3 id='response-18'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Connector entity</td>
</tr>
</tbody></table>
<h3 id='errors-19'>Errors</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>400</td>
<td>User input does not match Connector schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>409</td>
<td>Connector with the specified name already exists</td>
<td>entity of that name already exists</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-a-connector'>Retrieve information of a Connector</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/connectors/e5db6c4c-9315-45f5-8781-0567e5408d5c
</code></pre>
<blockquote>
<p>Successful request returns a <a href="#connector">Connector object</a>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5db6c4c-9315-45f5-8781-0567e5408d5c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"engine"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/mysilver/yooz-connector"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yooz-api-connector"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a Connector.</p>
<h3 id='http-request-20'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/connectors/{id}</code></p>
<h3 id='parameters-19'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Connector</td>
</tr>
</tbody></table>
<h3 id='response-19'>Response</h3>
<p>A <a href="#connector">Connector</a> Object with related <code>artifacts</code> and <code>datasources</code>.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>artifacts</td>
<td>ID of Artifacts associated with the Connector</td>
</tr>
<tr>
<td>datasources</td>
<td>ID of DataSources that use this Connector</td>
</tr>
</tbody></table>
<h3 id='errors-20'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Connector of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='add-an-artifact-to-a-connector'>Add an Artifact to a Connector</h2><pre class="highlight shell tab-shell"><code>curl -XPOST -H <span class="s1">'Content-Type: application/json'</span>
http://johnsd.cse.unsw.edu.au:3000/connectors/ee1db224-3331-4b8a-bc11-8839b4e5d6b4/artifacts -d <span class="s1">'{
    "artifactType": "YoutubeVideo",
    "description": "Github Universe 2017 event video",
    "data": {
        "title": "GitHub Universe 2017",
        "link": "https://www.youtube.com/watch?v=53qGVTSUoFA"
    }
}'</span>

</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds an Artifact to a Connector.</p>
<h3 id='http-request-21'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/connectors/{id}/artifacts</code></p>
<h3 id='parameters-20'>Parameters</h3>
<p>An <a href="#artifact">Artifact</a> Object.</p>
<h3 id='response-20'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Artifact object</td>
</tr>
</tbody></table>
<h3 id='errors-21'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>400</td>
<td>User input does not match Artifact schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>400</td>
<td><code>data</code> does not match ArtifactType schema</td>
<td>artifact schema mismatch</td>
</tr>
</tbody></table>
<h2 id='list-artifacts-of-a-connector'>List artifacts of a Connector</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/connectors/ee1db224-3331-4b8a-bc11-8839b4e5d6b4/artifacts
</code></pre>
<blockquote>
<p>Successful request returns a list of ID of artifacts:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="s2">"6d5dd456-3b04-4590-b51a-c5094c6a5cd7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"3d53d456-3b04-3ab0-b51s-d3012a133d56"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an array of Artifacts that are associated with the Connector.</p>
<h3 id='http-request-22'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/connectors/{id}/artifacts</code></p>
<h3 id='parameters-21'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Connector</td>
</tr>
</tbody></table>
<h3 id='response-21'>Response</h3>
<p>An array of IDs of <a href="#artifact">Artifact objects</a> related to the Connector.</p>
<h3 id='errors-22'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Connector of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='add-datasource'>Add DataSource</h2><pre class="highlight shell tab-shell"><code><span class="c"># Make sure the `Content-Type` is set correctly</span>
curl -XPOST http://johnsd.cse.unsw.edu.au:3000/connectors/3c7814c3-0e0c-4cd3-85cd-f288b9e85174/datasources
    -H <span class="s1">'Content-Type: application/json'</span>
    -d <span class="s1">'{
        "name": "TestData1",
        "description": "testing data 1",
        "source": [
            {
                "name": "abc",
                "id": 1
            },
            {
                "name": "def",
                "id": 1
            }
        ]
    }'</span>
</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds a DataSource using specified Connector, creating an instance of Connector with configuration
specified by <code>source</code>.</p>
<h3 id='http-request-23'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/connectors/{id}/datasources</code></p>
<h3 id='parameters-22'>Parameters</h3>
<p>A <a href="#data-source">DataSource</a> Object.</p>
<h3 id='response-22'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created DataSource entity</td>
</tr>
</tbody></table>
<h3 id='errors-23'>Errors</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>400</td>
<td>User input does not match DataSource schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>409</td>
<td>DataSource with the specified name already exists</td>
<td>entity of that name already exists</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-a-datasource'>Retrieve information of a DataSource</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/datasources/c9fd63eb-8882-4a42-9919-6326b85f4768
</code></pre>
<blockquote>
<p>Successful request returns a <a href="#data-source">DataSource object</a>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c9fd63eb-8882-4a42-9919-6326b85f4768"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestData1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testing data 1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"def"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a DataSource.</p>
<h3 id='http-request-24'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/datasources/{id}</code></p>
<h3 id='parameters-23'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the DataSource</td>
</tr>
</tbody></table>
<h3 id='response-23'>Response</h3>
<p>A <a href="#data-source-schema">DataSource</a> Object.</p>
<h3 id='errors-24'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>DataSource of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='create-query'>Create Query</h2><pre class="highlight shell tab-shell"><code><span class="c"># Make sure the `Content-Type` is set correctly</span>
curl -XPOST http://johnsd.cse.unsw.edu.au:3000/queries
    -H <span class="s1">'Content-Type: application/json'</span>
    -d <span class="s1">'{
        "name": "Stock Threshold",
        "sources": ["c9fd63eb-8882-4a42-9919-6326b85f4768"],
        "expression": ".rows | map(select(.[1] | tonumber &gt; 200))",
        "description": "filter out rows where first column &lt;= 200"
    }'</span>
</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A Query allows one to evaluate an <code>expression</code> on one or more DataSources or Queries. Upon being
created, the query is not immediately executed and returns only the entity created message. To
evaluate the Query and view the result, use the <a href="#display-entity">Display Entity</a> endpoint.</p>
<h3 id='http-request-25'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/queries</code></p>
<h3 id='parameters-24'>Parameters</h3>
<p>A <a href="#query">Query</a> Object.</p>
<h3 id='response-24'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Query entity</td>
</tr>
</tbody></table>
<h3 id='errors-25'>Errors</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>User input does not match Query schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>409</td>
<td>Query with the specified name already exists</td>
<td>entity of that name already exists</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-a-query'>Retrieve information of a Query</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/queries/101d3d6c-669f-4ee7-b881-a40861ebf9b2
</code></pre>
<blockquote>
<p>Successful request returns a <a href="#query">Query object</a>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Query"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101d3d6c-669f-4ee7-b881-a40861ebf9b2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stock Threshold"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"c9fd63eb-8882-4a42-9919-6326b85f4768"</span><span class="p">],</span><span class="w">
    </span><span class="s2">"expression"</span><span class="p">:</span><span class="w"> </span><span class="s2">".rows | map(select(.[1] | tonumber &gt; 200))"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filter out rows where first column &lt;= 200"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a Query. Note that this endpoint only retrieves the query expression, not the evaluated result.
To evaluate the Query and view the result, use the <a href="#display-entity">Display Entity</a> endpoint.</p>
<h3 id='http-request-26'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/queries/{id}</code></p>
<h3 id='parameters-25'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Query</td>
</tr>
</tbody></table>
<h3 id='response-25'>Response</h3>
<p>An <a href="#query">Query</a> Object.</p>
<h3 id='errors-26'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Query of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h1 id='recipe'>Recipe</h1><h2 id='definitions-3'>Definitions</h2><h3 id='recipe-2'>Recipe</h3>
<blockquote>
<p>A Recipe entity</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f95c28be-f3d9-459b-b204-b00bd31c981f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"get first gist"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"listGists"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9446bdf1-da5a-4096-98bc-47cfa8c15157"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"getGist"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99d64f8e-eace-417d-8cea-511621aaf57c"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"listGists"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">".username"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"output"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"gists"</span><span class="p">:</span><span class="w"> </span><span class="s2">"."</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">".gists | length &gt; 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"getGist"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"gistId"</span><span class="p">:</span><span class="w"> </span><span class="s2">".gists[0].id"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"freehaha"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A Recipe is a sequence of actions to be executed with optionally conditions. It consists of following properties:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*name</td>
<td>string</td>
<td>Name of the Recipe</td>
</tr>
<tr>
<td>*operations</td>
<td>object</td>
<td>Object containing Methods that are used in the recipe and their alias as key. They can also refer to other Recipes.</td>
</tr>
<tr>
<td>*sequence</td>
<td>array</td>
<td>Sequence of actions to be run</td>
</tr>
<tr>
<td>parameters</td>
<td>object</td>
<td>The context used throughout the recipe</td>
</tr>
</tbody></table>
<h4 id='sequence'>Sequence</h4>
<p><code>sequence</code> contains an array of actions to be run. Each action is described by an object with the following properties:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*operation</td>
<td>string</td>
<td>Name of the action to be executed, can be the aliases specified in <code>operations</code> or special operator prefixed with <code>$</code>, listed below.</td>
</tr>
<tr>
<td>*parameters</td>
<td>object</td>
<td>Parameters of the <code>operations</code></td>
</tr>
<tr>
<td>condition</td>
<td>string</td>
<td>A query expression. When specified, it will be evaluated and if the result is <code>false</code> the action will be skipped, otherwise run as normal.</td>
</tr>
<tr>
<td>output</td>
<td>object</td>
<td>A mapping specifying whether the output should be saved as variables and how.</td>
</tr>
</tbody></table>

<p>By default, the result of each operation is stored as <code>._results[#]</code> in the context. <code>.results[0]</code> being the result of the first operation, <code>_.results[1]</code> the second and so on.</p>
<h5 id='operators'>$ operators</h5>
<ul>
<li><code>$query</code>: perform a query on the context</li>
<li><code>$exit</code>: terminate the recipe, no further actions will be executed</li>
<li><code>$sequence</code>: excuted a sequence of operations</li>
</ul>
<h5 id='output'>Output</h5>
<p>The <code>output</code> contains a list of key-value pairs where the values are expressions to be evaluated against the result of the operation and the keys are where the evaluated 
values will be stored in the context. In the example recipe on the right, the result of the first <code>listGists</code> operation is stored as <code>gists</code> in the context. </p>
<h4 id='recipe-parameters'>Recipe/Parameters</h4>
<p>The <code>parameters</code> in a Recipe will be used as the context when running the Recipe. All expressions will be evaluated against this context. </p>
<h2 id='create-recipe'>Create Recipe</h2><pre class="highlight shell tab-shell"><code><span class="c"># Make sure the `Content-Type` is set correctly</span>
curl -XPOST http://johnsd.cse.unsw.edu.au:3000/recipes
    -H <span class="s1">'Content-Type: application/json'</span>
    -d <span class="s1">'{
        "sequence": [
            {
                "operation": "listGists",
                "parameters": {
                    "user": ".username"
                }
            },
            {
                "condition": "._results[\"0\"] | length &gt; 1",
                "operation": "getGist",
                "parameters": {
                    "gistId": "._results[\"0\"][0].id"
                }
            }
        ],
        "name": "get first gist with condition",
        "parameters": {
            "username": "freehaha"
        },
        "operations": {
            "listGists": "9446bdf1-da5a-4096-98bc-47cfa8c15157",
            "getGist": "99d64f8e-eace-417d-8cea-511621aaf57c"
        },
    }'</span>
</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a Recipe.</p>
<h3 id='http-request-27'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/recipes</code></p>
<h3 id='parameters-26'>Parameters</h3>
<p>A <a href="#recipe">Recipe</a> Object.</p>
<h3 id='response-26'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Recipe entity</td>
</tr>
</tbody></table>
<h3 id='errors-27'>Errors</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>User input does not match Recipe schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>409</td>
<td>Recipe with the specified name already exists</td>
<td>entity of that name already exists</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-a-recipe'>Retrieve information of a Recipe</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/recipe/f95c28be-f3d9-459b-b204-b00bd31c981f
</code></pre>
<blockquote>
<p>Successful request returns a <a href="#recipe">Recipe object</a>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f95c28be-f3d9-459b-b204-b00bd31c981f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"get first gist with condition"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"listGists"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">".username"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"condition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"._results[</span><span class="se">\"</span><span class="s2">0</span><span class="se">\"</span><span class="s2">] | length &gt; 1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"getGist"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"gistId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"._results[</span><span class="se">\"</span><span class="s2">0</span><span class="se">\"</span><span class="s2">][0].id"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"freehaha"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"listGists"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9446bdf1-da5a-4096-98bc-47cfa8c15157"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"getGist"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99d64f8e-eace-417d-8cea-511621aaf57c"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a Recipe.</p>
<h3 id='http-request-28'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/recipes/{id}</code></p>
<h3 id='parameters-27'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Recipe</td>
</tr>
</tbody></table>
<h3 id='response-27'>Response</h3>
<p>A <a href="#recipe">Recipe</a> Object.</p>
<h3 id='errors-28'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Recipe of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='run-recipe'>Run Recipe</h2><pre class="highlight shell tab-shell"><code><span class="c"># Make sure the `Content-Type` is set correctly</span>
curl -XPOST http://johnsd.cse.unsw.edu.au:3000/recipes/f95c28be-f3d9-459b-b204-b00bd31c981f/run
    -H <span class="s1">'Content-Type: application/json'</span>
    -d <span class="s1">'{
        "parameters": {
            "username": "freehaha"
        }
    }'</span>
</code></pre>
<blockquote>
<p>Successful requst returns the result of the recipe:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"freehaha"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"_results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"0"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"results of the first operation"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"results of the second operation"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint executes a Recipe.</p>
<h3 id='http-request-29'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/recipes/{id}/run</code></p>
<h3 id='parameters-28'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>parameters</td>
<td>object</td>
<td>Parameter to be passed to the recipe, overwriting any default parameters and will be used as the context</td>
</tr>
</tbody></table>
<h3 id='response-28'>Response</h3>
<p>The resulting context of the Recipe. The <code>_result</code> object contains result of
each opeartion with <code>._result[&quot;0&quot;]</code> being the result of the first operation,
<code>._result[&quot;1&quot;]</code> being the second and so on.</p>
<h3 id='errors-29'>Errors</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Recipe with the specified ID does not exist</td>
<td>recipe not found</td>
</tr>
<tr>
<td>400</td>
<td>Error running recipe</td>
<td>message related to the operation failing</td>
</tr>
</tbody></table>
<h1 id='widget'>Widget</h1><h2 id='definitions-4'>Definitions</h2><h3 id='widget-2'>Widget</h3>
<blockquote>
<p>A Widget entity</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9a038994-16c2-4d2a-bb79-e6c8261d0cd4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gist-element"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"framework"</span><span class="p">:</span><span class="w"> </span><span class="s2">"polymer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sourceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/freehaha/gist-element.git"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display a single-file gist"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"gistId"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e8bec3fd8cd3789ddd681a38068e655"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"gist"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Widgets are reusable pieces of visualization code that takes some parameters
and represent them with graphical elements. In APIBase, widgets are simply
<a href="https://www.polymer-project.org/">Google Polymer Elements</a>. Widgets can be
standalone or associated to a <a href="#data-source-schema">DataSourceSchema</a> in which
case when we receive data that is known to conform to a DataSourceSchema, we
can visualize the data with a call to the <a href="#widget-render">Widget Render</a> API.</p>

<p>A Widget entity has the following properties:</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>*name</td>
<td>string</td>
<td>Name of the Widget</td>
</tr>
<tr>
<td>*framework</td>
<td>string</td>
<td><code>polymer</code> is the only supported value here at the moment</td>
</tr>
<tr>
<td>*sourceCode</td>
<td>string</td>
<td>Location of the github repository</td>
</tr>
<tr>
<td>*description</td>
<td>string</td>
<td>Short description for the widget</td>
</tr>
<tr>
<td>*parameters</td>
<td>object</td>
<td>An object describing the parameters that the widget takes. Each key represents a parameter and the value describe the type and default value of the parameter.</td>
</tr>
<tr>
<td>tags</td>
<td>[ string ]</td>
<td>An array of string to tag the Widget. This is only used for indexing</td>
</tr>
</tbody></table>
<h2 id='add-widget'>Add Widget</h2><pre class="highlight shell tab-shell"><code><span class="c"># Make sure the `Content-Type` is set correctly</span>
curl -XPOST http://johnsd.cse.unsw.edu.au:3000/widgets
    -H <span class="s1">'Content-Type: application/json'</span>
    -d <span class="s1">'{
        "name": "gist-element",
        "framework": "polymer",
        "sourceCode": "https://github.com/freehaha/gist-element.git",
        "description": "display a single-file gist",
        "parameters": {
            "gistId": {
                "type": "string",
                "default": "7e8bec3fd8cd3789ddd681a38068e655"
            }
        },
        "tags": [
            "gist"
        ]
    }'</span>
</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds a Widget entity to APIBase.</p>
<h3 id='http-request-30'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/widgets</code></p>
<h3 id='parameters-29'>Parameters</h3>
<p>A <a href="#widget">Widget</a> Object.</p>
<h3 id='response-29'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Widget object</td>
</tr>
</tbody></table>
<h3 id='errors-30'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>User input does not match Widget schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>409</td>
<td>Widget with the specified name already exists</td>
<td>entity of that name already exists</td>
</tr>
</tbody></table>
<h2 id='retrieve-information-of-a-widget'>Retrieve information of a Widget</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/widgets/9a038994-16c2-4d2a-bb79-e6c8261d0cd4
</code></pre>
<blockquote>
<p>Successful request returns a <a href="#widget">Widget object</a>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9a038994-16c2-4d2a-bb79-e6c8261d0cd4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gist-element"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"framework"</span><span class="p">:</span><span class="w"> </span><span class="s2">"polymer"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sourceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/freehaha/gist-element.git"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display a single-file gist"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"gistId"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7e8bec3fd8cd3789ddd681a38068e655"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"artifacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"gist"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a Widget.</p>
<h3 id='http-request-31'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/widgets/{id}</code></p>
<h3 id='parameters-30'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Widget</td>
</tr>
</tbody></table>
<h3 id='response-30'>Response</h3>
<p>A <a href="#widget">Widget</a> Object with related <code>artifacts</code>.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>artifacts</td>
<td>ID of Artifacts of the Widget</td>
</tr>
</tbody></table>
<h3 id='errors-31'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Widget of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>
<h2 id='render-widget'>Render Widget</h2>
<p>This endpoint is an iframe API to render a Widget. To use the endpoint, one must use the endpoint URL in the iframe in order to render the widget.</p>
<h3 id='http-request-32'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/widgets/{id}/render?{parameter}={value}</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<blockquote>
<p>Example using gist-element Widget to render a Gist with id <code>3cac2180f2c0ef43d6c7</code></p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;iframe</span> <span class="na">style=</span><span class="s">"width: 500px; height: 350px; border: none;"</span>
    <span class="na">src=</span><span class="s">"http://johnsd.cse.unsw.edu.au:3000/widgets/9a038994-16c2-4d2a-bb79-e6c8261d0cd4/render?gistId=4992826"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</code></pre>
<p>The query parameters trailing the URL will be used as parameters to the Widget. Below is an example rendering a gist using the gist-element Widget.
The actual parameters depend on individual Widget.</p>

<iframe style="margin-left: 30px; width: 500px; height: 350px; border: 1px solid; overflow: none;" src="http://johnsd.cse.unsw.edu.au:3000/widgets/9a038994-16c2-4d2a-bb79-e6c8261d0cd4/render?gistId=4992826"></iframe>
<h2 id='add-an-artifact-to-a-widget'>Add an Artifact to a Widget</h2><pre class="highlight shell tab-shell"><code>curl -XPOST -H <span class="s1">'Content-Type: application/json'</span>
http://johnsd.cse.unsw.edu.au:3000/widgets/9a038994-16c2-4d2a-bb79-e6c8261d0cd4/artifacts -d <span class="s1">'{
    "artifactType": "YoutubeVideo",
    "description": "Basic tutorial for Github in Mac and Windows",
    "data": {
        "title": "Github Tutorial For Beginners - Github Basics for Mac or Windows &amp; Source Control Basics",
        "link" : "https://youtu.be/0fKg7e37bQE"
    }
}'</span>

</code></pre>
<blockquote>
<p>Successful requst returns the following response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;id_of_created_entity&gt;"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint adds an Artifact to a Widget.</p>
<h3 id='http-request-33'>HTTP Request</h3>
<p><code>POST http://johnsd.cse.unsw.edu.au:3000/widgets/{id}/artifacts</code></p>
<h3 id='parameters-31'>Parameters</h3>
<p>An <a href="#artifact">Artifact</a> Object.</p>
<h3 id='response-31'>Response</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td><code>entity created</code></td>
</tr>
<tr>
<td>id</td>
<td>ID of the created Artifact object</td>
</tr>
</tbody></table>
<h3 id='errors-32'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>400</td>
<td>User input does not match Artifact schema</td>
<td>schema mismatch</td>
</tr>
<tr>
<td>400</td>
<td><code>data</code> does not match ArtifactType schema</td>
<td>artifact schema mismatch</td>
</tr>
</tbody></table>
<h2 id='list-artifacts-of-a-widget'>List artifacts of a Widget</h2><pre class="highlight shell tab-shell"><code>curl -XGET http://johnsd.cse.unsw.edu.au:3000/widgets/9a038994-16c2-4d2a-bb79-e6c8261d0cd4/artifacts
</code></pre>
<blockquote>
<p>Successful request returns a list of ID of artifacts:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="s2">"6d5dd456-3b04-4590-b51a-c5094c6a5cd7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"3d53d456-3b04-3ab0-b51s-d3012a133d56"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves an array of Artifacts that are associated with the Widget.</p>
<h3 id='http-request-34'>HTTP Request</h3>
<p><code>GET http://johnsd.cse.unsw.edu.au:3000/widgets/{id}/artifacts</code></p>
<h3 id='parameters-32'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>uuid</td>
<td>ID of the Widget</td>
</tr>
</tbody></table>
<h3 id='response-32'>Response</h3>
<p>An array of <a href="#artifact">Artifact objects</a> related to the Widget.</p>
<h3 id='errors-33'>Errors</h3>
<p>Possible error codes and reasons:</p>

<table><thead>
<tr>
<th>Code</th>
<th>Reason</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>provided <code>id</code> is not a valid UUID</td>
<td>malformed UUID</td>
</tr>
<tr>
<td>404</td>
<td>Widget of specified <code>id</code> does not exist</td>
<td>resource not found</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
